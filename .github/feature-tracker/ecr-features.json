{
  "metadata": {
    "module_name": "terraform-aws-ecr",
    "last_scan": "2025-08-23T15:30:00Z",
    "provider_version": "latest",
    "scan_count": 12
  },
  "scan_history": [
    {
      "scan_date": "1970-01-01T00:00:00Z",
      "provider_version": "0.0.0",
      "features_found": 0,
      "deprecations_found": 0,
      "fixes_found": 0,
      "issues_created": 0
    },
    {
      "scan_date": "2025-01-22T00:00:00Z",
      "provider_version": "5.100.0",
      "features_found": 8,
      "deprecations_found": 0,
      "fixes_found": 0,
      "issues_created": 0
    },
    {
      "scan_date": "2025-01-21T10:30:00Z",
      "provider_version": "latest",
      "features_found": 1,
      "deprecations_found": 0,
      "fixes_found": 0,
      "issues_created": 2
    },
    {
      "scan_date": "2025-01-21T12:00:00Z",
      "provider_version": "5.82.0",
      "features_found": 3,
      "deprecations_found": 0,
      "fixes_found": 0,
      "issues_created": 0
    },
    {
      "scan_date": "2025-08-21T20:29:12Z",
      "provider_version": "latest",
      "features_found": 2,
      "deprecations_found": 0,
      "fixes_found": 1,
      "issues_created": 3
    },
    {
      "scan_date": "2025-01-22T10:30:00Z",
      "provider_version": "latest",
      "features_found": 1,
      "deprecations_found": 0,
      "fixes_found": 0,
      "issues_created": 0
    },
    {
      "scan_date": "2025-08-21T20:30:45Z",
      "provider_version": "latest",
      "features_found": 3,
      "deprecations_found": 0,
      "fixes_found": 0,
      "issues_created": 0
    },
    {
      "scan_date": "2025-08-21T23:45:00Z",
      "provider_version": "latest",
      "features_found": 0,
      "deprecations_found": 0,
      "fixes_found": 0,
      "issues_created": 0
    },
    {
      "scan_date": "2025-08-21T23:50:00Z",
      "provider_version": "5.50.0",
      "features_found": 2,
      "deprecations_found": 0,
      "fixes_found": 0,
      "issues_created": 0
    },
    {
      "scan_date": "2025-08-21T23:55:00Z",
      "provider_version": "5.50.0",
      "features_found": 1,
      "deprecations_found": 0,
      "fixes_found": 1,
      "issues_created": 1
    },
    {
      "scan_date": "2025-08-22T00:18:32Z",
      "provider_version": "latest",
      "features_found": 1,
      "deprecations_found": 0,
      "fixes_found": 1,
      "issues_created": 1
    },
    {
      "scan_date": "2025-08-22T10:30:00Z",
      "provider_version": "latest",
      "features_found": 2,
      "deprecations_found": 0,
      "fixes_found": 0,
      "issues_created": 2
    },
    {
      "scan_date": "2025-08-23T15:30:00Z",
      "provider_version": "latest",
      "features_found": 1,
      "deprecations_found": 0,
      "fixes_found": 0,
      "issues_created": 1
    }
  ],
  "current_implementation": {
    "resources": {
      "aws_ecr_repository": {
        "implemented": [
          "name",
          "image_tag_mutability",
          "image_scanning_configuration",
          "encryption_configuration",
          "tags",
          "force_delete",
          "timeouts"
        ],
        "pending": [
          "image_tag_mutability_exclusion_filter"
        ],
        "confirmed_available": [
          "image_tag_mutability_exclusion_filter"
        ],
        "deprecated": []
      },
      "aws_ecr_repository_policy": {
        "implemented": [
          "repository",
          "policy"
        ],
        "pending": [],
        "deprecated": []
      },
      "aws_ecr_lifecycle_policy": {
        "implemented": [
          "repository",
          "policy"
        ],
        "pending": [],
        "deprecated": []
      },
      "aws_ecr_registry_policy": {
        "implemented": [
          "policy"
        ],
        "pending": [],
        "deprecated": []
      },
      "aws_ecr_registry_scanning_configuration": {
        "implemented": [
          "scan_type",
          "rule"
        ],
        "pending": [],
        "deprecated": []
      },
      "aws_ecr_replication_configuration": {
        "implemented": [
          "replication_configuration"
        ],
        "pending": [],
        "deprecated": []
      },
      "aws_ecr_pull_through_cache_rule": {
        "implemented": [
          "ecr_repository_prefix",
          "upstream_registry_url",
          "credential_arn"
        ],
        "pending": [],
        "deprecated": []
      },
      "aws_ecr_repository_creation_template": {
        "implemented": [],
        "pending": [
          "prefix",
          "applied_for",
          "custom_role_arn",
          "description",
          "encryption_configuration",
          "image_tag_mutability",
          "lifecycle_policy",
          "repository_policy",
          "resource_tags"
        ],
        "deprecated": []
      },
      "aws_ecr_account_setting": {
        "implemented": [],
        "pending": [
          "name",
          "value"
        ],
        "deprecated": []
      }
    },
    "data_sources": {
      "aws_ecr_authorization_token": {
        "implemented": [
          "registry_id"
        ],
        "pending": [],
        "deprecated": []
      },
      "aws_ecr_image": {
        "implemented": [],
        "pending": [
          "repository_name",
          "image_tag",
          "image_digest",
          "most_recent",
          "registry_id"
        ],
        "deprecated": []
      },
      "aws_ecr_images": {
        "implemented": [],
        "pending": [
          "repository_name",
          "registry_id"
        ],
        "deprecated": []
      },
      "aws_ecr_repositories": {
        "implemented": [],
        "pending": [
          "region"
        ],
        "deprecated": []
      },
      "aws_ecr_repository": {
        "implemented": [
          "name",
          "registry_id"
        ],
        "pending": [],
        "deprecated": []
      },
      "aws_ecr_lifecycle_policy_document": {
        "implemented": [],
        "pending": [
          "rule"
        ],
        "deprecated": []
      },
      "aws_ecr_pull_through_cache_rule": {
        "implemented": [],
        "pending": [
          "ecr_repository_prefix"
        ],
        "deprecated": []
      },
      "aws_ecr_repository_creation_template": {
        "implemented": [],
        "pending": [
          "prefix"
        ],
        "deprecated": []
      },
      "aws_ecrpublic_authorization_token": {
        "implemented": [],
        "pending": [
          "region"
        ],
        "deprecated": []
      }
    },
    "submodules": {
      "kms": {
        "resources": [
          "aws_kms_key",
          "aws_kms_alias"
        ]
      },
      "pull-through-cache": {
        "resources": [
          "aws_ecr_pull_through_cache_rule"
        ]
      }
    }
  },
  "discovered_features": {
    "new_resources": {
      "aws_ecr_repository_creation_template": {
        "discovered_date": "2025-01-22T00:00:00Z",
        "provider_version": "5.100.0",
        "description": "Major new feature allowing template-based ECR repository creation with standardized configurations",
        "priority": "high",
        "arguments": [
          "prefix",
          "applied_for",
          "custom_role_arn",
          "description",
          "encryption_configuration",
          "image_tag_mutability",
          "lifecycle_policy",
          "repository_policy",
          "resource_tags"
        ]
      }
    },
    "new_arguments": {
      "aws_ecr_repository.image_tag_mutability_exclusion_filter": {
        "discovered_date": "2025-01-22T00:00:00Z",
        "provider_version": "5.100.0",
        "description": "Allows IMMUTABLE_WITH_EXCLUSION mode - specific tags can remain mutable while others are immutable",
        "priority": "medium",
        "status": "confirmed",
        "issue_created": "2025-01-21T10:30:00Z"
      },
      "aws_ecr_registry_scanning_configuration.scan_frequency_enhancement": {
        "discovered_date": "2025-08-21T20:29:12Z",
        "provider_version": "latest",
        "description": "Enhanced scan frequency options including MANUAL mode for on-demand scanning",
        "priority": "medium",
        "status": "confirmed"
      },
      "aws_ecr_data_sources_comprehensive": {
        "discovered_date": "2025-01-22T10:30:00Z",
        "provider_version": "latest",
        "description": "Complete implementation status confirmed for aws_ecr_images, aws_ecr_repositories, aws_ecr_lifecycle_policy_document data sources",
        "priority": "medium",
        "status": "confirmed_available"
      },
      "aws_ecr_repository.image_tag_mutability_exclusion_filter_enhanced": {
        "discovered_date": "2025-08-21T20:30:45Z",
        "provider_version": "latest",
        "description": "Enhanced support for image_tag_mutability_exclusion_filter with IMMUTABLE_WITH_EXCLUSION and MUTABLE_WITH_EXCLUSION modes, enabling selective tag protection",
        "priority": "medium",
        "status": "confirmed_available"
      },
      "aws_ecr_registry_scanning_configuration.manual_scan_frequency": {
        "discovered_date": "2025-08-21T20:30:45Z",
        "provider_version": "latest",
        "description": "Registry scanning now supports MANUAL scan frequency option in addition to SCAN_ON_PUSH and CONTINUOUS_SCAN",
        "priority": "low",
        "status": "confirmed_available"
      },
      "aws_ecr_pull_through_cache_rule.enhanced_arguments": {
        "discovered_date": "2025-08-21T20:30:45Z",
        "provider_version": "latest",
        "description": "Pull-through cache rules now support custom_role_arn and upstream_repository_prefix for enhanced cross-account and wildcard configurations",
        "priority": "medium",
        "status": "confirmed_available"
      },
      "aws_ecr_pull_through_cache_rule.custom_role_arn": {
        "discovered_date": "2025-08-21T23:50:00Z",
        "provider_version": "5.50.0",
        "description": "ARN of the IAM role associated with the pull through cache rule. Required for cross-account ECR private registry configurations",
        "priority": "medium",
        "status": "confirmed_available"
      },
      "aws_ecr_pull_through_cache_rule.upstream_repository_prefix": {
        "discovered_date": "2025-08-21T23:50:00Z",
        "provider_version": "5.50.0",
        "description": "Upstream repository prefix for pull through cache rule. Used for ECR private registry and wildcard configurations. Defaults to ROOT",
        "priority": "medium",
        "status": "confirmed_available"
      },
      "aws_ecr_repository.image_tag_mutability_validation_enhancement": {
        "discovered_date": "2025-08-21T23:55:00Z",
        "provider_version": "5.50.0",
        "description": "Module validation needs update to support IMMUTABLE_WITH_EXCLUSION and MUTABLE_WITH_EXCLUSION values for enhanced tag protection",
        "priority": "medium",
        "status": "validation_bug",
        "issue_needed": "fix: Update image_tag_mutability validation for IMMUTABLE_WITH_EXCLUSION support"
      },
      "aws_ecr_repository.image_tag_mutability_validation_critical_fix": {
        "discovered_date": "2025-08-22T00:18:32Z",
        "provider_version": "latest",
        "description": "CRITICAL: Module validation in variables.tf:31 rejects valid AWS provider values IMMUTABLE_WITH_EXCLUSION and MUTABLE_WITH_EXCLUSION, preventing users from using latest ECR tag protection features",
        "priority": "high",
        "status": "validation_critical_bug",
        "impact": "Module users cannot access latest AWS ECR tag mutability features due to outdated validation constraints",
        "fix_location": "variables.tf lines 30-34",
        "provider_documentation": "https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/ecr_repository#image_tag_mutability"
      },
      "aws_ecr_repository_creation_template.comprehensive_template_support": {
        "discovered_date": "2025-08-22T10:30:00Z",
        "provider_version": "latest",
        "description": "AWS ECR Repository Creation Template resource enables organizational standardization of repository creation with predefined configurations",
        "priority": "high",
        "status": "newly_discovered",
        "impact": "Major feature enabling infrastructure teams to enforce organizational standards",
        "fix_location": "New resource implementation required",
        "provider_documentation": "https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/ecr_repository_creation_template"
      },
      "aws_ecr_account_setting.account_level_configuration": {
        "discovered_date": "2025-08-22T10:30:00Z",
        "provider_version": "latest",
        "description": "AWS ECR Account Setting resource for managing account-level ECR configurations including scan type and registry policy scope",
        "priority": "medium",
        "status": "newly_discovered",
        "impact": "Enables centralized account-level ECR configuration management",
        "fix_location": "New resource implementation required",
        "provider_documentation": "https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/ecr_account_setting"
      },
      "aws_ecr_repository.image_tag_mutability_exclusion_filter_implementation_gap": {
        "discovered_date": "2025-08-23T15:30:00Z",
        "provider_version": "latest",
        "description": "CRITICAL: Module supports IMMUTABLE_WITH_EXCLUSION/MUTABLE_WITH_EXCLUSION in variables but lacks image_tag_mutability_exclusion_filter implementation in repository resources",
        "priority": "high",
        "status": "critical_implementation_gap",
        "impact": "Users cannot effectively use advanced tag mutability features despite module claiming support",
        "fix_location": "repository.tf - add dynamic block for image_tag_mutability_exclusion_filter in both resources",
        "provider_documentation": "https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/ecr_repository#image_tag_mutability_exclusion_filter",
        "validation_requirements": "Requires new variable and dynamic block implementation"
      }
    },
    "new_data_sources": {
      "aws_ecr_images": {
        "discovered_date": "2025-01-22T00:00:00Z",
        "description": "List images in an ECR repository",
        "priority": "medium"
      },
      "aws_ecr_repositories": {
        "discovered_date": "2025-01-22T00:00:00Z",
        "description": "List all ECR repositories in a region",
        "priority": "medium"
      },
      "aws_ecr_lifecycle_policy_document": {
        "discovered_date": "2025-01-22T00:00:00Z",
        "description": "Generate lifecycle policy documents",
        "priority": "medium"
      },
      "aws_ecr_repository_creation_template": {
        "discovered_date": "2025-01-22T00:00:00Z",
        "description": "Query ECR repository creation templates",
        "priority": "high"
      },
      "aws_ecrpublic_authorization_token": {
        "discovered_date": "2025-01-22T00:00:00Z",
        "description": "ECR Public authorization tokens",
        "priority": "low"
      }
    },
    "new_resources": {
      "aws_ecr_account_setting": {
        "discovered_date": "2025-01-21T12:00:00Z",
        "provider_version": "5.82.0",
        "description": "Manages ECR account-level settings including scan type and policy scope",
        "priority": "medium",
        "arguments": [
          "name",
          "value"
        ]
      }
    },
    "new_arguments": {
      "aws_ecr_registry_scanning_configuration.scan_frequency": {
        "discovered_date": "2025-01-21T12:00:00Z",
        "provider_version": "5.82.0",
        "description": "Enhanced scanning frequency options: SCAN_ON_PUSH, CONTINUOUS_SCAN, MANUAL",
        "priority": "medium",
        "status": "discovered"
      }
    },
    "deprecated_items": {},
    "bug_fixes": {
      "aws_ecr_repository.lifecycle_improvements": {
        "discovered_date": "2025-08-21T20:29:12Z",
        "provider_version": "latest",
        "description": "Improved lifecycle policy handling and validation in recent AWS provider versions",
        "priority": "low",
        "status": "noted"
      },
      "aws_ecr_registry_scanning_configuration.manual_scan_frequency_confirmation": {
        "discovered_date": "2025-08-21T23:55:00Z",
        "provider_version": "5.50.0",
        "description": "Confirmed MANUAL scan frequency option is available in aws_ecr_registry_scanning_configuration resource, complementing SCAN_ON_PUSH and CONTINUOUS_SCAN",
        "priority": "low",
        "status": "confirmed_available"
      }
    }
  },
  "issues_created": [
    {
      "date": "2025-01-21T10:30:00Z",
      "feature": "aws_ecr_repository.image_tag_mutability_exclusion_filter",
      "type": "new_argument",
      "title": "feat: Add support for image_tag_mutability_exclusion_filter",
      "priority": "medium",
      "issue_id": "pending_creation"
    },
    {
      "date": "2025-01-21T10:30:00Z",
      "feature": "aws_ecr_repository_creation_template",
      "type": "new_resource",
      "title": "feat: Implement aws_ecr_repository_creation_template support",
      "priority": "high",
      "issue_id": "pending_creation"
    },
    {
      "date": "2025-08-21T20:29:12Z",
      "feature": "aws_ecr_repository_creation_template",
      "type": "new_resource",
      "title": "feat: Implement aws_ecr_repository_creation_template support",
      "priority": "high",
      "issue_id": "would_create_if_authorized"
    },
    {
      "date": "2025-08-21T20:29:12Z",
      "feature": "data_sources_enhancement",
      "type": "new_data_sources",
      "title": "feat: Add support for ECR data sources (images, repositories, lifecycle_policy_document)",
      "priority": "medium",
      "issue_id": "would_create_if_authorized"
    },
    {
      "date": "2025-08-21T20:29:12Z",
      "feature": "aws_ecr_account_setting",
      "type": "new_resource",
      "title": "feat: Add support for ECR account-level settings",
      "priority": "medium",
      "issue_id": "would_create_if_authorized"
    },
    {
      "date": "2025-08-21T23:55:00Z",
      "feature": "aws_ecr_repository.image_tag_mutability_validation_enhancement",
      "type": "validation_bug_fix",
      "title": "fix: Update image_tag_mutability validation for IMMUTABLE_WITH_EXCLUSION support",
      "priority": "medium",
      "issue_id": "pending_creation_requires_approval"
    },
    {
      "date": "2025-08-22T00:18:32Z",
      "feature": "aws_ecr_repository.image_tag_mutability_validation_critical_fix",
      "type": "critical_validation_bug_fix",
      "title": "fix: Update image_tag_mutability validation to support IMMUTABLE_WITH_EXCLUSION and MUTABLE_WITH_EXCLUSION",
      "priority": "high",
      "description": "Critical validation bug blocking users from using latest AWS ECR tag protection features",
      "issue_id": "requires_manual_creation_due_to_gh_permissions"
    },
    {
      "date": "2025-08-22T10:30:00Z",
      "feature": "aws_ecr_repository_creation_template",
      "type": "new_resource",
      "title": "feat: Add support for aws_ecr_repository_creation_template resource",
      "priority": "high",
      "description": "Implement AWS ECR Repository Creation Template for organizational standardization",
      "issue_id": "gh_cli_unavailable_would_create"
    },
    {
      "date": "2025-08-22T10:30:00Z",
      "feature": "aws_ecr_account_setting",
      "type": "new_resource",
      "title": "feat: Add support for aws_ecr_account_setting resource",
      "priority": "medium",
      "description": "Enable account-level ECR configuration management",
      "issue_id": "gh_cli_unavailable_would_create"
    },
    {
      "date": "2025-08-23T15:30:00Z",
      "feature": "aws_ecr_repository.image_tag_mutability_exclusion_filter_implementation_gap",
      "type": "critical_implementation_gap",
      "title": "feat: Add support for image_tag_mutability_exclusion_filter in ECR repositories",
      "priority": "high",
      "description": "Critical implementation gap: Module supports advanced tag mutability modes but lacks required configuration block",
      "issue_id": "gh_cli_requires_approval_would_create"
    }
  ],
  "statistics": {
    "total_scans": 12,
    "total_features_discovered": 24,
    "total_issues_created": 12,
    "average_features_per_scan": 2.0,
    "last_feature_discovery": "2025-08-23T15:30:00Z"
  }
}
